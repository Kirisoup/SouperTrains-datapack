summon minecraft:armor_stand ~ ~ ~ {Tags:["tr-renderer-placer-dummy"], Invulnerable: 1b, NoGravity: 1b, Passengers:[{id:"minecraft:block_display",block_state:{Name:"minecraft:red_concrete",Properties:{}},transformation:[1.8750f,0.0000f,0.0000f,-0.9375f,0.0000f,0.8125f,0.0000f,-1.2875f,0.0000f,0.0000f,5.7380f,-2.8690f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:gray_concrete",Properties:{}},transformation:[0.8750f,0.0000f,0.0000f,-0.4375f,0.0000f,0.3250f,0.0000f,-1.5375f,0.0000f,0.0000f,5.7500f,-2.8750f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:gray_concrete",Properties:{}},transformation:[2.0000f,0.0000f,0.0000f,-1.0000f,0.0000f,0.3750f,0.0000f,-1.3500f,0.0000f,0.0000f,5.7500f,-2.8750f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:hopper",Properties:{facing:"east"}},transformation:[-0.0000f,-0.6250f,0.0000f,1.0625f,0.6250f,-0.0000f,0.0000f,-1.9750f,-0.0000f,0.0000f,0.6250f,2.1250f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:hopper",Properties:{facing:"east"}},transformation:[-0.0000f,-0.6250f,0.0000f,1.0625f,0.6250f,-0.0000f,0.0000f,-1.9750f,-0.0000f,0.0000f,0.6250f,1.3750f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:hopper",Properties:{facing:"east"}},transformation:[0.0000f,0.6250f,0.0000f,-1.0625f,0.6250f,-0.0000f,0.0000f,-1.9750f,0.0000f,-0.0000f,-0.6250f,2.0000f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:hopper",Properties:{facing:"east"}},transformation:[0.0000f,0.6250f,0.0000f,-1.0625f,0.6250f,-0.0000f,0.0000f,-1.9750f,0.0000f,-0.0000f,-0.6250f,2.7500f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:hopper",Properties:{facing:"east"}},transformation:[-0.0000f,-0.6250f,0.0000f,1.0625f,0.6250f,-0.0000f,0.0000f,-1.9750f,-0.0000f,0.0000f,0.6250f,-2.0000f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:hopper",Properties:{facing:"east"}},transformation:[-0.0000f,-0.6250f,0.0000f,1.0625f,0.6250f,-0.0000f,0.0000f,-1.9750f,-0.0000f,0.0000f,0.6250f,-2.7500f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:hopper",Properties:{facing:"east"}},transformation:[0.0000f,0.6250f,0.0000f,-1.0625f,0.6250f,-0.0000f,0.0000f,-1.9750f,0.0000f,-0.0000f,-0.6250f,-2.1250f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:hopper",Properties:{facing:"east"}},transformation:[0.0000f,0.6250f,0.0000f,-1.0625f,0.6250f,-0.0000f,0.0000f,-1.9750f,0.0000f,-0.0000f,-0.6250f,-1.3750f,0.0000f,0.0000f,0.0000f,1.0000f]},{id:"minecraft:block_display",block_state:{Name:"minecraft:gray_concrete",Properties:{}},transformation:[1.2500f,0.0000f,0.0000f,-0.6250f,0.0000f,0.3750f,0.0000f,-1.7250f,0.0000f,0.0000f,2.2500f,-1.1250f,0.0000f,0.0000f,0.0000f,1.0000f]}]}

execute as @e[tag=tr-renderer-placer-dummy, limit=1, distance=0] on passengers run tag @s[type=block_display] add tr-renderer-pre-mount
execute as @e[tag=tr-renderer-pre-mount] run ride @s dismount
execute as @e[tag=tr-renderer-pre-mount] run ride @s mount @e[tag=train, tag=tr-z-s, tag=tr-pre-renderer-init, limit=1, distance=0]
execute as @e[tag=tr-renderer-pre-mount] run tag @s remove tr-renderer-pre-mount

execute on passengers run tag @s[type=minecraft:block_display] add tr_renderer

kill @e[tag=tr-renderer-placer-dummy, limit=1]

tag @s remove tr-pre-renderer-init